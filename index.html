<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Emeline Quiz Test v1.0</title>

<style>
  :root {
    --pink: #ff4fd8;
    --purple: #8b5cf6;
    --aqua: #4dfcff;
  }

  body {
    font-family: "Comic Sans MS", "Trebuchet MS", system-ui, sans-serif;
    background: linear-gradient(135deg, #ffb3ec, #bba6ff);
    color: #2a0033;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .quiz {
    width: 100%;
    max-width: 420px;
    background: #fff;
    padding: 28px;
    border-radius: 24px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    position: relative;
    overflow: hidden;
  }

  h2 {
    text-align: center;
    color: var(--purple);
    text-shadow: 1px 1px 0 var(--aqua);
  }

  .answers button,
  .reset-btn,
  .share-btn {
    width: 100%;
    padding: 16px;
    margin-bottom: 12px;
    border-radius: 999px;
    border: 3px solid var(--pink);
    background: linear-gradient(180deg, #fff, #ffe4f6);
    cursor: pointer;
    font-size: 15px;
    box-shadow: 0 6px 0 #ff9be3;
    transition: transform 0.1s ease;
  }

  .answers button:hover {
    transform: translateY(-2px) scale(1.03);
  }

  .answers button:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #ff9be3;
  }

  .progress {
    height: 10px;
    background: #ffe4f6;
    border-radius: 999px;
    overflow: hidden;
    margin-bottom: 24px;
    border: 2px solid var(--pink);
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--pink), var(--purple), var(--aqua));
    width: 0%;
    transition: width 0.35s ease;
  }

  .hidden {
    display: none;
  }

  /* RESULT ANIMATION */
  .result {
    text-align: center;
    animation: popIn 0.6s cubic-bezier(.2,1.3,.4,1);
  }

  @keyframes popIn {
    0% { transform: scale(0.6); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
</style>
</head>

<body>

<div class="quiz">
  <div class="progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div id="quizScreen">
    <h2 id="question"></h2>
    <div class="answers" id="answers"></div>
  </div>

  <div id="resultScreen" class="hidden">
    <div class="result">
      <h2 id="resultTitle"></h2>
      <p id="resultText"></p>
      <button class="share-btn" onclick="shareResult()">Share Result</button>
      <button class="reset-btn" onclick="resetQuiz()">Take Quiz Again</button>
    </div>
  </div>
</div>

<script>
/* ======================
   WEB AUDIO POP PACK
====================== */
let audioCtx;
function ctx() {
  audioCtx ||= new (window.AudioContext || window.webkitAudioContext)();
  if (audioCtx.state === "suspended") audioCtx.resume();
  return audioCtx;
}

function blip(freq, dur, vol=0.06) {
  const o = ctx().createOscillator();
  const g = ctx().createGain();
  o.frequency.value = freq;
  o.type = "square";
  g.gain.value = vol;
  o.connect(g);
  g.connect(ctx().destination);
  o.start();
  o.stop(ctx().currentTime + dur);
}

const sounds = {
  hover: () => blip(1500, 0.02, 0.04),
  click: () => blip(900, 0.03),
  a: () => blip(1200, 0.15),
  b: () => blip(800, 0.15),
  c: () => blip(1600, 0.15)
};

/* ======================
   QUIZ DATA
====================== */
const quizData = [
  { q:"Pick your pop girl energy", a:[
    ["Bold & fearless","a"],["Chill & iconic","b"],["Creative queen","c"]
  ]},
  { q:"Dream Friday night?", a:[
    ["Dance floor","a"],["Movie snacks","b"],["Making art","c"]
  ]},
  { q:"Your signature vibe?", a:[
    ["Star power","a"],["Effortless","b"],["Unique","c"]
  ]},
  { q:"Pick a 90s look:", a:[
    ["Platforms","a"],["Baby tees","b"],["DIY glitter","c"]
  ]},
  { q:"Main character energy?", a:[
    ["Pop star","a"],["Cool girl","b"],["Art girl","c"]
  ]}
];

let i = 0;
let score = {a:0,b:0,c:0};

const qEl = question;
const aEl = answers;
const bar = progressBar;

/* ======================
   LOGIC
====================== */
function loadQ() {
  qEl.textContent = quizData[i].q;
  aEl.innerHTML = "";
  bar.style.width = (i/quizData.length)*100 + "%";

  quizData[i].a.forEach(([text,type])=>{
    const b = document.createElement("button");
    b.textContent = text;
    b.onpointerenter = sounds.hover;
    b.onpointerdown = sounds.click;
    b.onclick = ()=>{
      score[type]++; i++;
      i<quizData.length ? loadQ() : showResult();
    };
    aEl.appendChild(b);
  });
}

function showResult() {
  bar.style.width = "100%";
  quizScreen.classList.add("hidden");
  resultScreen.classList.remove("hidden");

  const win = Object.keys(score).reduce((a,b)=>score[a]>score[b]?a:b);
  sounds[win]();

  const titles = {
    a:"ðŸ’– POP STAR ICON",
    b:"ðŸ¦‹ COOL GIRL ENERGY",
    c:"âœ¨ CREATIVE QUEEN"
  };

  const texts = {
    a:"Born for the spotlight. Confidence is your signature.",
    b:"Effortless, magnetic, forever cool.",
    c:"Original, expressive, unforgettable."
  };

  resultTitle.textContent = titles[win];
  resultText.textContent = texts[win];
}

function resetQuiz() {
  i=0; score={a:0,b:0,c:0};
  resultScreen.classList.add("hidden");
  quizScreen.classList.remove("hidden");
  loadQ();
}

loadQ();
</script>

</body>
</html>
